# ðŸŒ¥ï¸ Google Cloud Logging
Cloud Logging is Google Cloud's service used to **collect, store,
search, analyze, and export logs** from GCP resources and applications.

## âœ… 1. What is Cloud Logging?

Cloud Logging collects logs from: - Compute Engine (VMs) - GKE
(Kubernetes) - Cloud Run - Cloud Functions - Load Balancers - VPC Flow
Logs - Cloud SQL - Custom app logs

You can: - View logs - Filter logs - Create alerts - Export logs -
Analyze logs

## âœ… 2. Cloud Logging Components

### 1. Log Router

Routes logs to: - Logs Buckets - Cloud Storage - BigQuery - Pub/Sub

### 2. Logs Buckets

Main storage for logs (default retention: 30 days).

### 3. Log Explorer

UI for searching and analyzing logs.

### 4. Log Sinks

Export logs to: - BigQuery - Cloud Storage - Pub/Sub

## âœ… 3. Types of Logs

### Platform Logs

Automatic logs generated by GCP services.

### Application Logs

Logs generated by your code.

### Audit Logs

Tracks **who did what**: - Admin Activity - Data Access - System Events

## âœ… 4. How to Enable Logging

Most GCP services enable logging by default.

Install Ops Agent on VM:

``` bash
curl -sSO https://dl.google.com/cloudagents/add-google-cloud-ops-agent-repo.sh
sudo bash add-google-cloud-ops-agent-repo.sh --also-install
```

## âœ… 5. View Logs (Step-by-Step)

### Step 1 --- Open Log Explorer

Console â†’ Logging â†’ Log Explorer

### Step 2 --- Select Resource Type

### Step 3 --- Apply Filter

Example GKE Errors:

    resource.type="k8s_container"
    severity>=ERROR

### Step 4 --- Analyze logs

## âœ… 6. Export Logs (Sinks)

You can export logs to: - BigQuery (analytics) - Cloud Storage
(archive) - Pub/Sub (real-time streaming)

## âœ… 7. Logging in GKE

Filter by pod:

    resource.type="k8s_container"
    resource.labels.pod_name="frontend"

## âœ… 8. Logging in Compute Engine

Use: - Ops Agent - Custom log files - Logging API

Python example:

``` python
import logging
import google.cloud.logging
client = google.cloud.logging.Client()
client.setup_logging()
logging.error("Error from my Compute Engine app!")
```

## âœ… 9. Best Practices

-   Use JSON logs\
-   Proper severity levels\
-   Enable VPC Flow Logs\
-   Export logs to BigQuery for long retention\
-   Use log-based metrics for alerts

## âœ… 10. Real Example

Pod crash due to DB timeout â†’ View logs â†’ Fix connection â†’ Redeploy.

## âœ… 11. Interview Questions

1.  What is Cloud Logging?
2.  What are audit logs?
3.  Difference between logs bucket and log sink?
4.  How to see VM logs?
5.  How to see pod logs?
